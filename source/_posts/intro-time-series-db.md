---
title: Time Series Database 簡介
tags:
  - backend
  - database
cover: cover.png
date: 2023-10-05 00:32:17
---

## 什麼是 Time Series Database

顧名思義就是專門存儲有時間序列相關資料的 Database。什麼是時間序列相關資料 ? 想像今天有個 Sensor 不斷的紀錄溫濕度的資料回傳到 Server 上，這個資料的內容會類似下圖這些資料就是所謂的時間序列相關的資料，這個資料一定是向後新增。

| Unix時間戳記  | 溫度 (攝氏度) | 濕度 (%) |
|----------------|---------------|----------|
| 1641019200     | 25.5          | 60       |
| 1641105600     | 26.0          | 58       |
| 1641192000     | 24.8          | 62       |
| 1641278400     | 27.2          | 55       |
| 1641364800     | 28.5          | 50       |

### Time Series data 為什麼需要特殊的 Database

如果將 Time Series Data 的資料放到常見的關聯式資料庫，會遇到怎麼樣的問題？

1. 資料量過多空間消耗過大
2. Query 時，因為資料量過多導致速度慢
3. Aggregation 效能差

而 Time Series Date 在現在資料密集的時代就變成非常重要的資料，所以 Time Series Database 就有其存在的必要性，通常 Time Series Database 有以下功能

1. 資料需要被壓縮，因為不同時間但是資料可能會非常相似，這樣可以減少空間
2. 大範圍資料的 Scan 是非常常見的操作 (一般資料庫的資料會非常多)
3. 支援高頻率且大量資料的寫入
4. 資料必須保證 Append Last
5. Aggregation 效能不能差，常有分析的需求

詳細的實作各家都有所不同，但都會達成以上基本功能。


### 應用

Time Series Database 在以下場景都可以發揮他的功用

1. 感測器
2. 天氣監控  
3. 系統監測
4. 網站活動、人流監控
5. 股票價格

### 結論

Time Series Database 在跟時間有關的資料下都會是一個不錯的解決方法，再日後考慮 Database 時除了關聯式資料庫又多了一個選擇。
